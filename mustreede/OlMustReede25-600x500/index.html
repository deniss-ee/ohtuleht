<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Must Reede 1250x400</title>
    <meta name="description" content />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <link href="swiper-bundle.min.css" rel="stylesheet" />
  </head>
  <body>
    <div class="banner-wrapper" data-size="desktop">
      <div class="header">
        <h1>Must reede</h1>
      </div>
      <div class="content-wrapper">
        <div class="button left">
          <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
            <path
              d="M21.4619 22.0001L25.4792 17.9828C25.9189 17.5517 26.1387 17.0128 26.1387 16.3663C26.1387 15.7194 25.9189 15.1696 25.4792 14.7167C25.0264 14.2465 24.4701 14.0156 23.8104 14.0242C23.1507 14.0327 22.5945 14.2636 22.1416 14.7167L16.5816 20.3024C16.1113 20.7867 15.8762 21.3519 15.8762 21.9978C15.8762 22.6438 16.1113 23.2104 16.5816 23.6978L22.1875 29.3036C22.6403 29.7565 23.1889 29.984 23.8333 29.9861C24.4778 29.9879 25.0264 29.7537 25.4792 29.2835C25.9189 28.8306 26.1378 28.282 26.136 27.6376C26.1339 26.9932 25.9064 26.4446 25.4535 25.9917L21.4619 22.0001ZM22 2.78586C24.6742 2.78586 27.1784 3.28941 29.5125 4.29653C31.8464 5.30364 33.8765 6.67054 35.6029 8.39723C37.3296 10.1236 38.6965 12.1537 39.7036 14.4876C40.7107 16.8217 41.2143 19.3259 41.2143 22.0001C41.2143 24.6743 40.7107 27.1785 39.7036 29.5126C38.6965 31.8465 37.3296 33.8766 35.6029 35.603C33.8765 37.3297 31.8464 38.6966 29.5125 39.7037C27.1784 40.7108 24.6742 41.2144 22 41.2144C19.3258 41.2144 16.8216 40.7108 14.4875 39.7037C12.1536 38.6966 10.1235 37.3297 8.39712 35.603C6.67043 33.8766 5.30353 31.8465 4.29642 29.5126C3.28931 27.1785 2.78575 24.6743 2.78575 22.0001C2.78575 19.3259 3.2893 16.8217 4.29642 14.4876C5.30353 12.1537 6.67043 10.1236 8.39712 8.39723C10.1235 6.67054 12.1536 5.30364 14.4875 4.29653C16.8216 3.28941 19.3258 2.78586 22 2.78586Z"
              fill="white"></path>
          </svg>
        </div>
        <div class="content swiper">
          <div class="swiper-wrapper"></div>
        </div>
        <div class="button right">
          <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none">
            <path
              d="M22.5381 21.9999L18.5208 26.0172C18.0811 26.4483 17.8613 26.9872 17.8613 27.6337C17.8613 28.2806 18.0811 28.8304 18.5208 29.2833C18.9736 29.7535 19.5299 29.9844 20.1896 29.9758C20.8493 29.9673 21.4056 29.7364 21.8584 29.2833L27.4184 23.6976C27.8887 23.2133 28.1238 22.6481 28.1238 22.0022C28.1238 21.3562 27.8887 20.7896 27.4184 20.3022L21.8126 14.6964C21.3597 14.2435 20.8111 14.016 20.1667 14.0139C19.5223 14.0121 18.9736 14.2463 18.5208 14.7165C18.0811 15.1694 17.8622 15.718 17.864 16.3624C17.8662 17.0068 18.0936 17.5554 18.5465 18.0083L22.5381 21.9999ZM22 41.2141C19.3258 41.2141 16.8216 40.7106 14.4875 39.7035C12.1536 38.6964 10.1235 37.3295 8.39714 35.6028C6.67045 33.8764 5.30354 31.8463 4.29643 29.5124C3.28932 27.1783 2.78577 24.6741 2.78577 21.9999C2.78577 19.3257 3.28932 16.8215 4.29643 14.4874C5.30354 12.1535 6.67045 10.1234 8.39714 8.39702C10.1235 6.67032 12.1536 5.30342 14.4875 4.29631C16.8216 3.2892 19.3258 2.78564 22 2.78564C24.6742 2.78564 27.1784 3.2892 29.5126 4.29631C31.8464 5.30342 33.8765 6.67032 35.6029 8.39702C37.3296 10.1234 38.6965 12.1535 39.7036 14.4874C40.7107 16.8215 41.2143 19.3257 41.2143 21.9999C41.2143 24.6741 40.7107 27.1783 39.7036 29.5124C38.6965 31.8463 37.3296 33.8764 35.6029 35.6028C33.8765 37.3295 31.8464 38.6964 29.5126 39.7035C27.1784 40.7106 24.6742 41.2141 22 41.2141Z"
              fill="white"></path>
          </svg>
        </div>
      </div>
      <a hidden class="all" href="#" target="#" rel="noopener noreferrer">vaata k√µiki pakkumisi</a>
    </div>
    <script>
      var olBanner = {
        getQueryStringValue: function (key) {
          return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&?]" + encodeURIComponent(key).replace(/[.+*]/g, "$&") + "(?:=([^&]*))?)?.*$", "i"), "$1"));
        },

        getClickTag: function (customDestinationUrl) {
          this.clickMacro = this.getQueryStringValue("clickMacro");
          this.clickTag = this.getQueryStringValue("clickTag");

          if (customDestinationUrl !== undefined && customDestinationUrl.length > 0) {
            return this.clickMacro + customDestinationUrl;
          } else {
            return this.clickTag;
          }
        },
      };
      var clickTag = "";
    </script>
    <script src="swiper-bundle.min.js"></script>
    <script type="module">
      import { bannerData } from "./../banner-data.js?v=10";

      const wrapper = document.querySelector(".banner-wrapper");
      const swiperContainer = wrapper?.querySelector(".content.swiper");
      const swiperWrapper = swiperContainer?.querySelector(".swiper-wrapper");
      const leftButton = wrapper?.querySelector(".button.left");
      const rightButton = wrapper?.querySelector(".button.right");
      const allLink = wrapper?.querySelector(".all");
      const shuffleCards = (list) => {
        const array = Array.isArray(list) ? list.slice() : [];
        for (let i = array.length - 1; i > 0; i -= 1) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      };

      const cards = shuffleCards(bannerData.cards);

      if (wrapper && bannerData.title) {
        const headerTitle = wrapper.querySelector(".header h1");
        if (headerTitle) {
          headerTitle.textContent = bannerData.title;
        }
      }

      if (allLink && bannerData.allUrl) {
        allLink.href = bannerData.allUrl;
        allLink.target = "_blank";
        allLink.rel = "noopener noreferrer";
      }

      const arrowSvg =
        '<svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none"><path d="M22.5381 21.9999L18.5208 26.0172C18.0811 26.4483 17.8613 26.9872 17.8613 27.6337C17.8613 28.2806 18.0811 28.8304 18.5208 29.2833C18.9736 29.7535 19.5299 29.9844 20.1896 29.9758C20.8493 29.9673 21.4055 29.7364 21.8584 29.2833L27.4184 23.6976C27.8887 23.2133 28.1238 22.6481 28.1238 22.0022C28.1238 21.3562 27.8887 20.7896 27.4184 20.3022L21.8125 14.6964C21.3597 14.2435 20.8111 14.016 20.1667 14.0139C19.5223 14.0121 18.9736 14.2463 18.5208 14.7165C18.0811 15.1694 17.8622 15.718 17.864 16.3624C17.8661 17.0068 18.0936 17.5554 18.5465 18.0083L22.5381 21.9999ZM22 41.2141C19.3258 41.2141 16.8216 40.7106 14.4875 39.7035C12.1536 38.6964 10.1235 37.3295 8.39713 35.6028C6.67043 33.8764 5.30353 31.8463 4.29642 29.5124C3.28931 27.1783 2.78575 24.6741 2.78575 21.9999C2.78575 19.3257 3.28931 16.8215 4.29642 14.4874C5.30353 12.1535 6.67043 10.1234 8.39713 8.39702C10.1235 6.67032 12.1536 5.30342 14.4875 4.29631C16.8216 3.2892 19.3258 2.78564 22 2.78564C24.6742 2.78564 27.1784 3.2892 29.5125 4.29631C31.8464 5.30342 33.8765 6.67032 35.6029 8.39702C37.3296 10.1234 38.6965 12.1535 39.7036 14.4874C40.7107 16.8215 41.2142 19.3257 41.2142 21.9999C41.2142 24.6741 40.7107 27.1783 39.7036 29.5124C38.6965 31.8463 37.3296 33.8764 35.6029 35.6028C33.8765 37.3295 31.8464 38.6964 29.5125 39.7035C27.1784 40.7106 24.6742 41.2141 22 41.2141Z" fill="#E3000F"></path></svg>';

      const createSlide = ({ text, logo, alt, url }) => {
        const slide = document.createElement("div");
        slide.className = "swiper-slide";

        const clickTarget = document.createElement("div");
        clickTarget.className = "clickTagUrl";
        const destination = url || "";
        const escapedDestination = destination.replace(/'/g, "\\'");
        clickTarget.setAttribute(
          "onclick",
          `window.open(olBanner.getClickTag('${escapedDestination}'), '_blank')`
        );

        const logoWrapper = document.createElement("div");
        logoWrapper.className = "logo-wrapper";

        const logoImg = document.createElement("img");
        logoImg.className = "logo";
        logoImg.src = logo || "";
        logoImg.alt = alt || text || "Banner logo";
        logoImg.loading = "lazy";
        logoWrapper.appendChild(logoImg);

        const infoWrapper = document.createElement("div");
        infoWrapper.className = "info-wrapper";

        const message = document.createElement("p");
        message.textContent = text || "";
        infoWrapper.appendChild(message);
        infoWrapper.insertAdjacentHTML("beforeend", arrowSvg);

        clickTarget.append(logoWrapper, infoWrapper);
        slide.appendChild(clickTarget);

        return slide;
      };

      if (swiperWrapper && cards.length) {
        swiperWrapper.innerHTML = "";
        cards.forEach((card) => {
          swiperWrapper.appendChild(createSlide(card));
        });
      }

      if (typeof Swiper !== "undefined" && swiperContainer && cards.length) {
        new Swiper(swiperContainer, {
          autoplay: {
          delay: 2500,
        },
          slidesPerView: 1,
          speed: 500,
          allowTouchMove: cards.length > 1,
          loop: cards.length > 1,
          navigation: {
            nextEl: rightButton,
            prevEl: leftButton,
          },
        });
      }
    </script>
  </body>
</html>
